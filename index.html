<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Mise à jour système - troll</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="style.css">
  <link rel="icon" type="image/x-icon" href="data:image/x-icon;,">
</head>
<body>
  <pre id="debug" style="color:yellow;background:black;z-index:99999;position:fixed;top:0;left:0;max-width:100vw;max-height:30vh;overflow:auto;"></pre>
  <!-- Conteneur principal pour le mode plein écran -->
  <div id="fullscreen-container">
    <!-- Sons divers -->
    <audio id="sound1" src="trollsonfauxbouton1.mp3"></audio>
    <audio id="sound2" src="trollsonfauxbouton2.mp3"></audio>
    <audio id="sound3" src="trollsonfauxbouton3.mp3"></audio>
    <audio id="xp-startup" src="Windows_XP.mp3"></audio>
    <audio id="error-sound" src="error.mp3"></audio>

    <!-- Faux curseurs -->
    <div id="fake-cursors-container" style="pointer-events:none;position:fixed;top:0;left:0;width:100vw;height:100vh;z-index:9999;"></div>

    <!-- Titre principal -->
    <h1 id="main-title">Mise à jour système</h1>

    <!-- Barre de progression -->
    <div id="progress-bar">
      <div id="progress"></div>
    </div>
    <div id="status"></div>

    <!-- Matrix Rain (avec titre/barre de fenêtre) -->
    <div id="matrix-rain-container" class="fixed-element window" style="display:none;min-width:220px;">
      <div class="window-titlebar">
        <span class="window-title">matrix-rain.exe</span>
        <span class="close-button window-min-btn">_</span>
      </div>
      <div class="window-content">
        <!-- Le contenu est généré dynamiquement -->
      </div>
    </div>

    <!-- Calculatrice (Haut Droite) -->
    <div id="calculator-container" class="fixed-element window" style="display:none;min-width:240px;">
      <div class="window-titlebar">
        <span class="window-title">calculatrice.exe</span>
        <span class="close-button window-min-btn">_</span>
      </div>
      <div class="window-content">
        <h3>Calculatrice</h3>
        <input type="text" id="calc-display" disabled />
        <div id="calc-buttons"></div>
      </div>
    </div>

    <!-- Morpion (Milieu Droite) -->
    <div id="morpion-container" class="fixed-element window" style="display:none;min-width:240px;">
      <div class="window-titlebar">
        <span class="window-title">morpion.exe</span>
        <span class="close-button window-min-btn">_</span>
      </div>
      <div class="window-content">
        <h3>Jouez pendant que ça installe...</h3>
        <div id="board"></div>
        <button id="reset-morpion-btn" class="morpion-button">Recommencer</button>
        <div id="morpion-message"></div>
      </div>
    </div>

    <!-- Popups (Haut Gauche) -->
    <div id="popup-container" class="fixed-element" style="z-index:1200;"></div>

    <!-- Barre de recherche troll -->
    <div id="search-bar-wrapper" style="display:none;">
      <input type="text" id="search-bar" placeholder="Tape un niveau ou une commande...">
      <button id="submit-search-btn" style="display:none;">Entrée</button>
    </div>

    <!-- Rickroll (Bas Gauche) -->
    <video id="rickroll-video" class="fixed-element window" style="display:none;" autoplay loop muted>
      <source src="rickroll.mp4" type="video/mp4">
    </video>

    <!-- Subway Surfer Video (Bas Droite) -->
    <video id="subway-surfer-video" class="fixed-element window" style="display:none;" autoplay loop muted>
      <source src="subwaysurfer.mp4" type="video/mp4">
    </video>

    <!-- Image troll -->
    <div id="image-troll" class="fixed-element window" style="display:none;">
      <div class="window-titlebar">
        <span class="window-title">trollface.exe</span>
        <span class="close-button window-min-btn">_</span>
      </div>
      <div class="window-content">
        <p>Image trouvée sur votre ordinateur :</p>
        <img src="trollface.png" alt="Trollface">
      </div>
    </div>

    <!-- Explorateur fake -->
    <div id="explorer-fake" class="fixed-element window" style="display:none;min-width:300px;">
      <div class="window-titlebar">
        <span class="window-title">Explorateur-de-fichier.exe</span>
        <span class="close-button window-min-btn">_</span>
      </div>
      <div class="window-content">
        <h4>Explorateur - troll update</h4>
        <div id="explorer-files"></div>
      </div>
    </div>

    <!-- Conteneur pour les messages d'alerte personnalisés -->
    <div id="custom-alert-container" class="fixed-element window" style="display:none;min-width:240px;">
      <div class="window-titlebar">
        <span class="window-title">alerte.exe</span>
        <span class="close-button window-min-btn">_</span>
      </div>
      <div class="window-content">
        <!-- Message généré dynamiquement -->
      </div>
    </div>

    <!-- Spinner de redémarrage type Windows -->
    <div id="windows-restart-spinner" class="fixed-element" style="display:none;">
      <div class="spinning-circle"></div>
      <button id="stop-restart-btn">Arrêter</button>
    </div>

    <!-- Canvas Pong -->
    <div id="pong-window" class="fixed-element window" style="display:none;min-width:600px;top:20vh;left:50vw;transform:translateX(-50%,0);z-index:9000;">
      <div class="window-titlebar">
        <span class="window-title">pong.exe</span>
        <span class="close-button window-min-btn">_</span>
      </div>
      <div class="window-content" style="padding:0;">
        <canvas id="pong-canvas" width="600" height="350" style="background:#1a1a1a;border:2px solid white;display:block;"></canvas>
        <button id="pong-restart-btn" style="display:none;width:100%;font-size:1.5em;padding:10px 0;">Recommencer la partie</button>
      </div>
    </div>
  </div>

  <!-- Bouton initial pour démarrer le troll (au centre) -->
  <button id="start-troll-btn" style="display:block; position: fixed; top: 50%; left: 50%; transform: translate(-50%, -50%); padding: 20px 40px; font-size: 3vw; background-color: #006FB7; color: white; border: 2px solid white; border-radius: 8px; cursor: pointer; transition: background 0.2s ease; z-index: 10000;">
    Cliquez ici pour démarrer la mise à jour
  </button>

  <!-- Faux bouton annuler qui bouge -->
  <button id="fleeing-cancel-btn" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); display: none; background-color: #ff4444; color: white; padding: 15px 30px; font-size: 2vw; border: none; border-radius: 5px; cursor: pointer; z-index: 9000;">
    Annuler la mise à jour
  </button>

  <!-- Vrai bouton annuler (caché en bas à droite) -->
  <button id="real-cancel-btn-hidden" style="position: fixed; bottom: 10px; right: 10px; opacity: 0.01; background-color: transparent; color: transparent; border: none; cursor: pointer; z-index: 10000; width: 150px; height: 60px;">
    Vraiment Annuler
  </button>

  <script src="script.js"></script>
</body>
</html>

